{"version":3,"sources":["js/music.js"],"names":["songImage","document","querySelector","songTitle","getElementById","songArtist","music","progressContainer","progress","currentTimeEl","durationEl","prevBtn","playBtn","nextBtn","songsList","metric1","require","jacinto1","jacinto2","jacinto3","metric1_img","jacinto1_img","jacinto2_img","jacinto3_img","songs","name","displayName","artist","img","isPlaying","isReady","playSong","classList","replace","setAttribute","play","pauseSong","pause","songIndex","prevSong","length","loadSong","nextSong","song","textContent","src","updateProgressBar","e","srcElement","duration","currentTime","progressPercent","style","width","durationMinutes","Math","floor","durationSeconds","currentMinutes","currentSeconds","setProgressBar","clientWidth","clickX","offsetX","renderSongsList","listSongstemplate","forEach","index","classActive","template","innerHTML","selectSong","target","id","addEventListener"],"mappings":";;;;;;;;;;;;;;;;;AAAA,IAAMA,EAAYC,SAASC,cAAc,mBACnCC,EAAYF,SAASG,eAAe,eACpCC,EAAaJ,SAASG,eAAe,gBACrCE,EAAQL,SAASC,cAAc,SAC/BK,EAAoBN,SAASG,eAAe,sBAC5CI,EAAWP,SAASG,eAAe,YACnCK,EAAgBR,SAASG,eAAe,gBACxCM,EAAaT,SAASG,eAAe,YACrCO,EAAUV,SAASC,cAAc,mBACjCU,EAAUX,SAASC,cAAc,eACjCW,EAAUZ,SAASC,cAAc,kBACjCY,EAAYb,SAASC,cAAc,eAGnCa,EAAUC,QAAQ,yBAClBC,EAAWD,QAAQ,0BACnBE,EAAWF,QAAQ,0BACnBG,EAAWH,QAAQ,0BAEnBI,EAAcJ,QAAQ,uBACtBK,EAAeL,QAAQ,wBACvBM,EAAeN,QAAQ,wBACvBO,EAAeP,QAAQ,wBAGvBQ,EAAQ,CACZ,CACEC,KAAMR,EACNS,YAAa,yBACbC,OAAQ,iBACVC,IAAKP,GAEL,CACEI,KAAMP,EACNQ,YAAa,4BACbC,OAAQ,iBACVC,IAAKN,GAEL,CACEG,KAAMN,EACNO,YAAa,yBACbC,OAAQ,iBACVC,IAAKL,GAEL,CACEE,KAAMV,EACNW,YAAa,oBACbC,OAAQ,wBACVC,IAAKR,IAMHS,GAAY,EACZC,GAAU,EAEd,SAASC,IACPF,GAAY,EACZjB,EAAQoB,UAAUC,QAAQ,iBAAkB,mBAC5CrB,EAAQsB,aAAa,QAAS,SAC9B5B,EAAM6B,OAGR,SAASC,IACPP,GAAY,EACZjB,EAAQoB,UAAUC,QAAQ,kBAAmB,kBAC7CrB,EAAQsB,aAAa,QAAS,QAC9B5B,EAAM+B,QAGR,IAAIC,EAAY,EAEhB,SAASC,MACPD,EACgB,IACdA,EAAYd,EAAMgB,OAAS,GAE7BC,EAASjB,EAAMc,IACfP,IAGF,SAASW,MACPJ,EAEgBd,EAAMgB,OAAS,IAC7BF,EAAY,GAEdG,EAASjB,EAAMc,IACfP,IAOF,SAASU,EAASE,GAEhBxC,EAAUyC,YAAcD,EAAKjB,YAC7BrB,EAAWuC,YAAcD,EAAKhB,OAC9BrB,EAAMuC,IAAMF,EAAKlB,KACjBzB,EAAU6C,IAAMF,EAAKf,IAMvB,SAASkB,EAAkBC,GACrBlB,GAAAA,EAAW,CACqBkB,IAAAA,EAAAA,EAAEC,WAA5BC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YACZC,EAAmBD,EAAcD,EAAY,IACnDzC,EAAS4C,MAAMC,MAAWF,GAAAA,OAAAA,EAHb,KAKPG,IAAAA,EAAkBC,KAAKC,MAAMP,EAAW,IAC1CQ,EAAkBF,KAAKC,MAAMP,EAAW,IAKxCQ,GAJAA,EAAkB,KACpBA,EAAsBA,IAAAA,OAAAA,IAGpBA,EAAiB,CACnB/C,EAAWkC,YAAiBU,GAAAA,OAAAA,EAAmBG,KAAAA,OAAAA,GAEzCC,IAAAA,EAAiBH,KAAKC,MAAMN,EAAc,IAC5CS,EAAiBJ,KAAKC,MAAMN,EAAc,IAC1CS,EAAiB,KACnBA,EAAqBA,IAAAA,OAAAA,IAEvBlD,EAAcmC,YAAiBc,GAAAA,OAAAA,EAAkBC,KAAAA,OAAAA,KAKvD,SAASC,EAAeb,GAChBM,IAAAA,EAAQ,KAAKQ,YACbC,EAASf,EAAEgB,QACTd,EAAa3C,EAAb2C,SAER3C,EAAM4C,YAAeY,EAAST,EAASJ,EAGzC,SAASe,IACHC,IAAAA,EAAJ,GACAzC,EAAM0C,QAAQ,SAACvB,EAAMwB,GACbC,IACAC,EACMD,wBAAAA,OAFQ9B,GAAa6B,EAAQ,kBAAoB,WAE7BA,UAAAA,OAAAA,EAC9BxB,gBAAAA,OAAAA,EAAKjB,YAFP,iBAKAuC,GAAqBI,IAEvBvD,EAAUwD,WAAaL,EAGzB,SAASM,EAAWxB,GACdA,EAAEyB,OAAOC,IAAMnC,GAAaR,GAAWiB,EAAEyB,OAAOC,KAClD3C,GAAU,EACVQ,EAAYS,EAAEyB,OAAOC,GACrBhC,EAASjB,EAAMc,IACfP,IAEA9B,SAASC,cAAc,oBACnBD,SACGC,cAAc,oBACd8B,UAAUC,QAAQ,kBAAmB,YACxCc,EAAEyB,OAAOxC,UAAUC,QAAQ,WAAY,mBAC3Cc,EAAEyB,OAAOxC,UAAUC,QAAQ,WAAY,mBACvCH,GAAU,GA3EdlB,EAAQ8D,iBAAiB,QAAS,WAChC7C,EAAYO,IAAcL,MA8E5BU,EAASjB,EAAMc,IACf0B,IAEArD,EAAQ+D,iBAAiB,QAASnC,GAClC1B,EAAQ6D,iBAAiB,QAAShC,GAClCpC,EAAMoE,iBAAiB,aAAc5B,GACrCxC,EAAMoE,iBAAiB,QAAShC,GAChC5B,EAAU4D,iBAAiB,QAASH,GACpChE,EAAkBmE,iBAAiB,QAASd","file":"music.9ee1cb1b.js","sourceRoot":"..","sourcesContent":["const songImage = document.querySelector(\".day-9-portrait\");\r\nconst songTitle = document.getElementById(\"day-9-title\");\r\nconst songArtist = document.getElementById(\"day-9-artist\");\r\nconst music = document.querySelector(\"audio\");\r\nconst progressContainer = document.getElementById(\"progress-container\");\r\nconst progress = document.getElementById(\"progress\");\r\nconst currentTimeEl = document.getElementById(\"current-time\");\r\nconst durationEl = document.getElementById(\"duration\");\r\nconst prevBtn = document.querySelector(\"#day-9-backward\");\r\nconst playBtn = document.querySelector(\"#day-9-play\");\r\nconst nextBtn = document.querySelector(\"#day-9-forward\");\r\nconst songsList = document.querySelector(\".day-9-list\");\r\n\r\n// --------------\r\nconst metric1 = require(\"../music/metric-1.mp3\");\r\nconst jacinto1 = require(\"../music/jacinto-1.mp3\");\r\nconst jacinto2 = require(\"../music/jacinto-2.mp3\");\r\nconst jacinto3 = require(\"../music/jacinto-3.mp3\");\r\n\r\nconst metric1_img = require(\"../img/metric-1.jpg\");\r\nconst jacinto1_img = require(\"../img/jacinto-1.jpg\");\r\nconst jacinto2_img = require(\"../img/jacinto-2.jpg\");\r\nconst jacinto3_img = require(\"../img/jacinto-3.jpg\");\r\n\r\n// music\r\nconst songs = [\r\n  {\r\n    name: jacinto1,\r\n    displayName: \"Electric Chill Machine\",\r\n    artist: \"Jacinto Desing\",\r\n\t\timg: jacinto1_img \r\n  },\r\n  {\r\n    name: jacinto2,\r\n    displayName: \"Seven nation Armi (Remix)\",\r\n    artist: \"Jacinto Desing\",\r\n\t\timg: jacinto2_img \r\n  },\r\n  {\r\n    name: jacinto3,\r\n    displayName: \"Goodnight, Disco Queen\",\r\n    artist: \"Jacinto Desing\",\r\n\t\timg: jacinto3_img \r\n  },\r\n  {\r\n    name: metric1,\r\n    displayName: \"Front Row (Remix)\",\r\n    artist: \"Metric/Jacinto Desing\",\r\n\t\timg: metric1_img \r\n  }\r\n];\r\n\r\n// -----\r\n// check if Playing\r\nlet isPlaying = false;\r\nlet isReady = true;\r\n// play\r\nfunction playSong() {\r\n  isPlaying = true;\r\n  playBtn.classList.replace(\"fa-play-circle\", \"fa-pause-circle\");\r\n  playBtn.setAttribute(\"title\", \"pause\");\r\n  music.play();\r\n}\r\n// pause\r\nfunction pauseSong() {\r\n  isPlaying = false;\r\n  playBtn.classList.replace(\"fa-pause-circle\", \"fa-play-circle\");\r\n  playBtn.setAttribute(\"title\", \"play\");\r\n  music.pause();\r\n}\r\n// prevSong\r\nlet songIndex = 0;\r\n// prevSong\r\nfunction prevSong() {\r\n  songIndex--;\r\n  if (songIndex < 0) {\r\n    songIndex = songs.length - 1;\r\n  }\r\n  loadSong(songs[songIndex]);\r\n  playSong();\r\n}\r\n// nextSong\r\nfunction nextSong() {\r\n  songIndex++;\r\n\r\n  if (songIndex > songs.length - 1) {\r\n    songIndex = 0;\r\n  }\r\n  loadSong(songs[songIndex]);\r\n  playSong();\r\n}\r\n//\r\nplayBtn.addEventListener(\"click\", () => {\r\n  isPlaying ? pauseSong() : playSong();\r\n});\r\n// update dom\r\nfunction loadSong(song) {\r\n  // console.log(song);\r\n  songTitle.textContent = song.displayName;\r\n  songArtist.textContent = song.artist;\r\n  music.src = song.name;\r\n  songImage.src = song.img;\r\n  // music.src = `music/${song.name}.mp3`;\r\n  // songImage.src = `img/${song.name}.jpg`;\r\n}\r\n// update progress bar\r\n\r\nfunction updateProgressBar(e) {\r\n  if (isPlaying) {\r\n    const { duration, currentTime } = e.srcElement;\r\n    const progressPercent = (currentTime / duration) * 100;\r\n    progress.style.width = `${progressPercent}%`;\r\n    //\r\n    const durationMinutes = Math.floor(duration / 60);\r\n    let durationSeconds = Math.floor(duration % 60);\r\n    if (durationSeconds < 10) {\r\n      durationSeconds = `0${durationSeconds}`;\r\n    }\r\n    // delay\r\n    if (durationSeconds) {\r\n      durationEl.textContent = `${durationMinutes}:${durationSeconds}`;\r\n      //\r\n      const currentMinutes = Math.floor(currentTime / 60);\r\n      let currentSeconds = Math.floor(currentTime % 60);\r\n      if (currentSeconds < 10) {\r\n        currentSeconds = `0${currentSeconds}`;\r\n      }\r\n      currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;\r\n    }\r\n  }\r\n}\r\n// setProgressBar\r\nfunction setProgressBar(e) {\r\n  const width = this.clientWidth;\r\n  const clickX = e.offsetX;\r\n  const { duration } = music;\r\n  // console.log((clickX / width) * duration);\r\n  music.currentTime = (clickX / width) * duration;\r\n}\r\n//\r\nfunction renderSongsList() {\r\n  let listSongstemplate = ``;\r\n  songs.forEach((song, index) => {\r\n    const classActive = songIndex == index ? \"day-9-li-active\" : \"day-9-li\";\r\n    const template = `\t\r\n\t\t\t<li class=\"${classActive}\" id=\"${index}\">\r\n\t\t\t\t${song.displayName}\r\n\t\t\t</li>`;\r\n    // <span class=\"mx-a float-right t-sm\">${song.duration}</span>\r\n    listSongstemplate += template;\r\n  });\r\n  songsList.innerHTML += listSongstemplate;\r\n}\r\n// select song\r\nfunction selectSong(e) {\r\n  if (e.target.id != songIndex && isReady && e.target.id) {\r\n    isReady = false;\r\n    songIndex = e.target.id;\r\n    loadSong(songs[songIndex]);\r\n    playSong();\r\n    // console.log(e.target);\r\n    document.querySelector(\".day-9-li-active\")\r\n      ? document\r\n          .querySelector(\".day-9-li-active\")\r\n          .classList.replace(\"day-9-li-active\", \"day-9-li\")\r\n      : e.target.classList.replace(\"day-9-li\", \"day-9-li-active\");\r\n    e.target.classList.replace(\"day-9-li\", \"day-9-li-active\");\r\n    isReady = true;\r\n  }\r\n}\r\n// on load\r\nloadSong(songs[songIndex]);\r\nrenderSongsList();\r\n// event\r\nprevBtn.addEventListener(\"click\", prevSong);\r\nnextBtn.addEventListener(\"click\", nextSong);\r\nmusic.addEventListener(\"timeupdate\", updateProgressBar);\r\nmusic.addEventListener(\"ended\", nextSong);\r\nsongsList.addEventListener(\"click\", selectSong);\r\nprogressContainer.addEventListener(\"click\", setProgressBar);\r\n"]}