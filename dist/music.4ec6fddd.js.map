{"version":3,"sources":["js/music.js"],"names":["query","node","document","querySelector","songImage","songTitle","getElementById","songArtist","music","progressContainer","progress","currentTimeEl","durationEl","prevBtn","playBtn","nextBtn","songsList","metric1","require","jacinto1","jacinto2","jacinto3","metric1_img","jacinto1_img","jacinto2_img","jacinto3_img","songs","name","displayName","artist","img","isPlaying","isReady","playSong","classList","replace","setAttribute","play","pauseSong","pause","songIndex","prevSong","length","loadSong","nextSong","song","textContent","src","updateProgressBar","e","srcElement","duration","currentTime","progressPercent","style","width","durationMinutes","Math","floor","durationSeconds","currentMinutes","currentSeconds","setProgressBar","clientWidth","clickX","offsetX","renderSongsList","listSongstemplate","forEach","index","classActive","template","innerHTML","selectSong","target","id","addEventListener","animatedMenu","navList","back","backPosition","tl","gsap","timeline","reportWindowSize","active","x","offsetLeft","y","offsetTop","to","scaleY","scaleX","ease","bg","dataset","background","children","remove","add","className","window","modalOpen","modal","modalAcept","theme","localStorage","getItem","body","toggle","darkBtn","switchTheme","themeName","removeItem","setItem","html","getElementsByTagName","fontSize","size"],"mappings":";;;;;;;;;;;;;;;;;AAAA,IAAMA,EAAQ,SAAAC,GAAQC,OAAAA,SAASC,cAAcF,IAEvCG,EAAYF,SAASC,cAAc,mBACnCE,EAAYH,SAASI,eAAe,eACpCC,EAAaL,SAASI,eAAe,gBACrCE,EAAQN,SAASC,cAAc,SAC/BM,EAAoBP,SAASI,eAAe,sBAC5CI,EAAWR,SAASI,eAAe,YACnCK,EAAgBT,SAASI,eAAe,gBACxCM,EAAaV,SAASI,eAAe,YACrCO,EAAUX,SAASC,cAAc,mBACjCW,EAAUZ,SAASC,cAAc,eACjCY,EAAUb,SAASC,cAAc,kBACjCa,EAAYd,SAASC,cAAc,eAGnCc,EAAUC,QAAQ,yBAClBC,EAAWD,QAAQ,0BACnBE,EAAWF,QAAQ,0BACnBG,EAAWH,QAAQ,0BAEnBI,EAAcJ,QAAQ,uBACtBK,EAAeL,QAAQ,wBACvBM,EAAeN,QAAQ,wBACvBO,EAAeP,QAAQ,wBAGvBQ,EAAQ,CACZ,CACEC,KAAMR,EACNS,YAAa,yBACbC,OAAQ,iBACRC,IAAKP,GAEP,CACEI,KAAMP,EACNQ,YAAa,4BACbC,OAAQ,iBACRC,IAAKN,GAEP,CACEG,KAAMN,EACNO,YAAa,yBACbC,OAAQ,iBACRC,IAAKL,GAEP,CACEE,KAAMV,EACNW,YAAa,oBACbC,OAAQ,wBACRC,IAAKR,IAMLS,GAAY,EACZC,GAAU,EAEd,SAASC,IACPF,GAAY,EACZjB,EAAQoB,UAAUC,QAAQ,iBAAkB,mBAC5CrB,EAAQsB,aAAa,QAAS,SAC9B5B,EAAM6B,OAGR,SAASC,IACPP,GAAY,EACZjB,EAAQoB,UAAUC,QAAQ,kBAAmB,kBAC7CrB,EAAQsB,aAAa,QAAS,QAC9B5B,EAAM+B,QAGR,IAAIC,EAAY,EAEhB,SAASC,MACPD,EACgB,IACdA,EAAYd,EAAMgB,OAAS,GAE7BC,EAASjB,EAAMc,IACfP,IAGF,SAASW,MACPJ,EAEgBd,EAAMgB,OAAS,IAC7BF,EAAY,GAEdG,EAASjB,EAAMc,IACfP,IAOF,SAASU,EAASE,GAEhBxC,EAAUyC,YAAcD,EAAKjB,YAC7BrB,EAAWuC,YAAcD,EAAKhB,OAC9BrB,EAAMuC,IAAMF,EAAKlB,KACjBvB,EAAU2C,IAAMF,EAAKf,IAMvB,SAASkB,EAAkBC,GACrBlB,GAAAA,EAAW,CACqBkB,IAAAA,EAAAA,EAAEC,WAA5BC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YACZC,EAAmBD,EAAcD,EAAY,IACnDzC,EAAS4C,MAAMC,MAAWF,GAAAA,OAAAA,EAHb,KAKPG,IAAAA,EAAkBC,KAAKC,MAAMP,EAAW,IAC1CQ,EAAkBF,KAAKC,MAAMP,EAAW,IAKxCQ,GAJAA,EAAkB,KACpBA,EAAsBA,IAAAA,OAAAA,IAGpBA,EAAiB,CACnB/C,EAAWkC,YAAiBU,GAAAA,OAAAA,EAAmBG,KAAAA,OAAAA,GAEzCC,IAAAA,EAAiBH,KAAKC,MAAMN,EAAc,IAC5CS,EAAiBJ,KAAKC,MAAMN,EAAc,IAC1CS,EAAiB,KACnBA,EAAqBA,IAAAA,OAAAA,IAEvBlD,EAAcmC,YAAiBc,GAAAA,OAAAA,EAAkBC,KAAAA,OAAAA,KAKvD,SAASC,EAAeb,GAChBM,IAAAA,EAAQ,KAAKQ,YACbC,EAASf,EAAEgB,QACTd,EAAa3C,EAAb2C,SAER3C,EAAM4C,YAAeY,EAAST,EAASJ,EAGzC,SAASe,IACHC,IAAAA,EAAJ,GACAzC,EAAM0C,QAAQ,SAACvB,EAAMwB,GACbC,IACAC,EACMD,wBAAAA,OAFQ9B,GAAa6B,EAAQ,kBAAoB,WAE7BA,UAAAA,OAAAA,EAC9BxB,gBAAAA,OAAAA,EAAKjB,YAFP,iBAKAuC,GAAqBI,IAEvBvD,EAAUwD,WAAaL,EAGzB,SAASM,EAAWxB,GACdA,EAAEyB,OAAOC,IAAMnC,GAAaR,GAAWiB,EAAEyB,OAAOC,KAClD3C,GAAU,EACVQ,EAAYS,EAAEyB,OAAOC,GACrBhC,EAASjB,EAAMc,IACfP,IAEA/B,SAASC,cAAc,oBACnBD,SACGC,cAAc,oBACd+B,UAAUC,QAAQ,kBAAmB,YACxCc,EAAEyB,OAAOxC,UAAUC,QAAQ,WAAY,mBAC3Cc,EAAEyB,OAAOxC,UAAUC,QAAQ,WAAY,mBACvCH,GAAU,GA3EdlB,EAAQ8D,iBAAiB,QAAS,WAChC7C,EAAYO,IAAcL,MA8E5BU,EAASjB,EAAMc,IACf0B,IAEArD,EAAQ+D,iBAAiB,QAASnC,GAClC1B,EAAQ6D,iBAAiB,QAAShC,GAClCpC,EAAMoE,iBAAiB,aAAc5B,GACrCxC,EAAMoE,iBAAiB,QAAShC,GAChC5B,EAAU4D,iBAAiB,QAASH,GACpChE,EAAkBmE,iBAAiB,QAASd,GAI5C,IAAMe,EAAe7E,EAAM,kBACrB8E,EAAU9E,EAAM,aAChB+E,EAAO/E,EAAM,SACfgF,EAAe,GAEfC,EAAKC,KAAKC,SAAS,IA8BvB,SAASC,IACDC,IAAAA,EAASP,EAAQ3E,cAAc,WAEjCmF,EAAID,EAAOE,WAAaR,EAAKQ,WAC7BC,EAAIH,EAAOI,UAAYV,EAAKQ,WAChCN,EAAGS,GAAGX,EAAM,CACV5B,SAAU,EACVwC,OAAQ,EACRC,OAAQ,EACRC,KAAM,eACNP,EAAGA,EACHE,EAAGA,IAvCPV,EAAQF,iBAAiB,QAAS,SAAA3B,GAC1B6C,IAAAA,EAAK7C,EAAEyB,OAAOqB,QAAQD,GACxBA,GAAAA,EAAI,CACFR,IAAAA,EAAIrC,EAAEyB,OAAOa,WAAaR,EAAKQ,WAC/BC,EAAIvC,EAAEyB,OAAOe,UAAYV,EAAKQ,WAElCN,EAAGS,GAAGX,EAAM,CACV5B,SAAU,GACVwC,OAAQ,GACRC,OAAQ,IACRC,KAAM,eACNP,EAAGA,EACHE,EAAGA,EACHQ,WAAYF,IACXJ,GAAGX,EAAM,CAAE5B,SAAU,GAAKwC,OAAQ,EAAGC,OAAQ,EAAGC,KAAM,iBAEpD,IAAA,IAAIxB,EAAQ,EAAGA,EAAQS,EAAQmB,SAASvD,OAAS,EAAG2B,IACvDS,EAAQmB,SAAS5B,GAAOnC,UAAUgE,OAAO,UAAW,UAGtDjD,EAAEyB,OAAOxC,UAAUiE,IAAI,UAAW,UAElCtB,EAAauB,UAAY,GACzBvB,EAAavB,MAAM0C,WAAaF,EAChCf,EAAKzB,MAAM0C,WAAaF,KAkB5BV,IAIAiB,OAAOzB,iBAAiB,SAAU,WAChCQ,MAWF,IAAMkB,EAAYtG,EAAM,eAClBuG,EAAQvG,EAAM,UACdwG,EAAaxG,EAAM,iBAEzBsG,EAAU1B,iBAAiB,QAAS,SAAA3B,GAClCsD,EAAMrE,UAAUgE,OAAO,UAGzBM,EAAW5B,iBAAiB,QAAS,SAAA3B,GACnCsD,EAAMrE,UAAUiE,IAAI,UAEtBI,EAAM3B,iBAAiB,QAAS,SAAA3B,GAI9BA,EAAEyB,OAAOC,IAAM4B,EAAM5B,IAAK4B,EAAMrE,UAAUiE,IAAI,UAIhD,IAAMM,EAAQC,aAAaC,QAAQ,SAC/BF,GAEFvG,SAAS0G,KAAK1E,UAAU2E,OAAOJ,GAGjC,IAAMK,EAAU5G,SAASC,cAAc,eAKvC,SAAS4G,EAAYC,GACnB9G,SAAS0G,KAAK1E,UAAU2E,OAAOG,GAC1BP,EAGHC,aAAaO,WAAW,SAFxBP,aAAaQ,QAAQ,QAAS,cANlCJ,EAAQlC,iBAAiB,QAAS,WAChCmC,EAAY,gBAWd,IAAII,EAAOjH,SAASkH,qBAAqB,QAAQ,GAMjD,SAASC,IAASC,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,MACvBH,EAAK7D,MAAM+D,SAAWC","file":"music.4ec6fddd.js","sourceRoot":"..","sourcesContent":["const query = node => document.querySelector(node);\r\n\r\nconst songImage = document.querySelector(\".day-9-portrait\");\r\nconst songTitle = document.getElementById(\"day-9-title\");\r\nconst songArtist = document.getElementById(\"day-9-artist\");\r\nconst music = document.querySelector(\"audio\");\r\nconst progressContainer = document.getElementById(\"progress-container\");\r\nconst progress = document.getElementById(\"progress\");\r\nconst currentTimeEl = document.getElementById(\"current-time\");\r\nconst durationEl = document.getElementById(\"duration\");\r\nconst prevBtn = document.querySelector(\"#day-9-backward\");\r\nconst playBtn = document.querySelector(\"#day-9-play\");\r\nconst nextBtn = document.querySelector(\"#day-9-forward\");\r\nconst songsList = document.querySelector(\".day-9-list\");\r\n\r\n// --------------\r\nconst metric1 = require(\"../music/metric-1.mp3\");\r\nconst jacinto1 = require(\"../music/jacinto-1.mp3\");\r\nconst jacinto2 = require(\"../music/jacinto-2.mp3\");\r\nconst jacinto3 = require(\"../music/jacinto-3.mp3\");\r\n\r\nconst metric1_img = require(\"../img/metric-1.jpg\");\r\nconst jacinto1_img = require(\"../img/jacinto-1.jpg\");\r\nconst jacinto2_img = require(\"../img/jacinto-2.jpg\");\r\nconst jacinto3_img = require(\"../img/jacinto-3.jpg\");\r\n\r\n// music\r\nconst songs = [\r\n  {\r\n    name: jacinto1,\r\n    displayName: \"Electric Chill Machine\",\r\n    artist: \"Jacinto Desing\",\r\n    img: jacinto1_img\r\n  },\r\n  {\r\n    name: jacinto2,\r\n    displayName: \"Seven nation Armi (Remix)\",\r\n    artist: \"Jacinto Desing\",\r\n    img: jacinto2_img\r\n  },\r\n  {\r\n    name: jacinto3,\r\n    displayName: \"Goodnight, Disco Queen\",\r\n    artist: \"Jacinto Desing\",\r\n    img: jacinto3_img\r\n  },\r\n  {\r\n    name: metric1,\r\n    displayName: \"Front Row (Remix)\",\r\n    artist: \"Metric/Jacinto Desing\",\r\n    img: metric1_img\r\n  }\r\n];\r\n\r\n// -----\r\n// check if Playing\r\nlet isPlaying = false;\r\nlet isReady = true;\r\n// play\r\nfunction playSong() {\r\n  isPlaying = true;\r\n  playBtn.classList.replace(\"fa-play-circle\", \"fa-pause-circle\");\r\n  playBtn.setAttribute(\"title\", \"pause\");\r\n  music.play();\r\n}\r\n// pause\r\nfunction pauseSong() {\r\n  isPlaying = false;\r\n  playBtn.classList.replace(\"fa-pause-circle\", \"fa-play-circle\");\r\n  playBtn.setAttribute(\"title\", \"play\");\r\n  music.pause();\r\n}\r\n// prevSong\r\nlet songIndex = 0;\r\n// prevSong\r\nfunction prevSong() {\r\n  songIndex--;\r\n  if (songIndex < 0) {\r\n    songIndex = songs.length - 1;\r\n  }\r\n  loadSong(songs[songIndex]);\r\n  playSong();\r\n}\r\n// nextSong\r\nfunction nextSong() {\r\n  songIndex++;\r\n\r\n  if (songIndex > songs.length - 1) {\r\n    songIndex = 0;\r\n  }\r\n  loadSong(songs[songIndex]);\r\n  playSong();\r\n}\r\n//\r\nplayBtn.addEventListener(\"click\", () => {\r\n  isPlaying ? pauseSong() : playSong();\r\n});\r\n// update dom\r\nfunction loadSong(song) {\r\n  // console.log(song);\r\n  songTitle.textContent = song.displayName;\r\n  songArtist.textContent = song.artist;\r\n  music.src = song.name;\r\n  songImage.src = song.img;\r\n  // music.src = `music/${song.name}.mp3`;\r\n  // songImage.src = `img/${song.name}.jpg`;\r\n}\r\n// update progress bar\r\n\r\nfunction updateProgressBar(e) {\r\n  if (isPlaying) {\r\n    const { duration, currentTime } = e.srcElement;\r\n    const progressPercent = (currentTime / duration) * 100;\r\n    progress.style.width = `${progressPercent}%`;\r\n    //\r\n    const durationMinutes = Math.floor(duration / 60);\r\n    let durationSeconds = Math.floor(duration % 60);\r\n    if (durationSeconds < 10) {\r\n      durationSeconds = `0${durationSeconds}`;\r\n    }\r\n    // delay\r\n    if (durationSeconds) {\r\n      durationEl.textContent = `${durationMinutes}:${durationSeconds}`;\r\n      //\r\n      const currentMinutes = Math.floor(currentTime / 60);\r\n      let currentSeconds = Math.floor(currentTime % 60);\r\n      if (currentSeconds < 10) {\r\n        currentSeconds = `0${currentSeconds}`;\r\n      }\r\n      currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;\r\n    }\r\n  }\r\n}\r\n// setProgressBar\r\nfunction setProgressBar(e) {\r\n  const width = this.clientWidth;\r\n  const clickX = e.offsetX;\r\n  const { duration } = music;\r\n  // console.log((clickX / width) * duration);\r\n  music.currentTime = (clickX / width) * duration;\r\n}\r\n//\r\nfunction renderSongsList() {\r\n  let listSongstemplate = ``;\r\n  songs.forEach((song, index) => {\r\n    const classActive = songIndex == index ? \"day-9-li-active\" : \"day-9-li\";\r\n    const template = `\t\r\n\t\t\t<li class=\"${classActive}\" id=\"${index}\">\r\n\t\t\t\t${song.displayName}\r\n\t\t\t</li>`;\r\n    // <span class=\"mx-a float-right t-sm\">${song.duration}</span>\r\n    listSongstemplate += template;\r\n  });\r\n  songsList.innerHTML += listSongstemplate;\r\n}\r\n// select song\r\nfunction selectSong(e) {\r\n  if (e.target.id != songIndex && isReady && e.target.id) {\r\n    isReady = false;\r\n    songIndex = e.target.id;\r\n    loadSong(songs[songIndex]);\r\n    playSong();\r\n    // console.log(e.target);\r\n    document.querySelector(\".day-9-li-active\")\r\n      ? document\r\n          .querySelector(\".day-9-li-active\")\r\n          .classList.replace(\"day-9-li-active\", \"day-9-li\")\r\n      : e.target.classList.replace(\"day-9-li\", \"day-9-li-active\");\r\n    e.target.classList.replace(\"day-9-li\", \"day-9-li-active\");\r\n    isReady = true;\r\n  }\r\n}\r\n// on load\r\nloadSong(songs[songIndex]);\r\nrenderSongsList();\r\n// event\r\nprevBtn.addEventListener(\"click\", prevSong);\r\nnextBtn.addEventListener(\"click\", nextSong);\r\nmusic.addEventListener(\"timeupdate\", updateProgressBar);\r\nmusic.addEventListener(\"ended\", nextSong);\r\nsongsList.addEventListener(\"click\", selectSong);\r\nprogressContainer.addEventListener(\"click\", setProgressBar);\r\n\r\n/**************************************************/\r\n\r\nconst animatedMenu = query(\"#animated-menu\");\r\nconst navList = query(\"#nav-list\");\r\nconst back = query(\"#back\");\r\nlet backPosition = {};\r\n\r\nlet tl = gsap.timeline({});\r\n\r\nnavList.addEventListener(\"click\", e => {\r\n  const bg = e.target.dataset.bg;\r\n  if (bg) {\r\n    let x = e.target.offsetLeft - back.offsetLeft;\r\n    let y = e.target.offsetTop - back.offsetLeft;\r\n\r\n    tl.to(back, {\r\n      duration: 0.2,\r\n      scaleY: 0.5,\r\n      scaleX: 1.2,\r\n      ease: \"power2.inOut\",\r\n      x: x,\r\n      y: y,\r\n      background: bg\r\n    }).to(back, { duration: 0.2, scaleY: 1, scaleX: 1, ease: \"power2.inOut\" });\r\n\r\n    for (let index = 0; index < navList.children.length - 1; index++) {\r\n      navList.children[index].classList.remove(\"t-light\", \"active\");\r\n    }\r\n\r\n    e.target.classList.add(\"t-light\", \"active\");\r\n\r\n    animatedMenu.className = \"\";\r\n    animatedMenu.style.background = bg;\r\n    back.style.background = bg;\r\n  }\r\n});\r\n\r\nfunction reportWindowSize() {\r\n  const active = navList.querySelector(\".active\");\r\n\r\n  let x = active.offsetLeft - back.offsetLeft;\r\n  let y = active.offsetTop - back.offsetLeft;\r\n  tl.to(back, {\r\n    duration: 0,\r\n    scaleY: 1,\r\n    scaleX: 1,\r\n    ease: \"power2.inOut\",\r\n    x: x,\r\n    y: y\r\n  });\r\n}\r\nreportWindowSize();\r\n// const mql = window.matchMedia('screen and (max-width: 576px)');\r\n// window.onresize = reportWindowSize;\r\n\r\nwindow.addEventListener(\"resize\", () => {\r\n  reportWindowSize();\r\n  // const active = navList.querySelector(\".active\")\r\n\r\n  // let x = active.offsetLeft - back.offsetLeft\r\n  // let y = active.offsetTop - back.offsetLeft\r\n  // tl\r\n  // \t.to(back, { duration: 0, scaleY: 1, scaleX: 1, ease: \"power2.inOut\", x: x, y: y },)\r\n});\r\n\r\n/**************************************************/\r\n\r\nconst modalOpen = query(\"#modal-open\");\r\nconst modal = query(\"#modal\");\r\nconst modalAcept = query(\"#modal-accept\");\r\n\r\nmodalOpen.addEventListener(\"click\", e => {\r\n  modal.classList.remove(\"hide\");\r\n});\r\n\r\nmodalAcept.addEventListener(\"click\", e => {\r\n  modal.classList.add(\"hide\");\r\n});\r\nmodal.addEventListener(\"click\", e => {\r\n  // if (e.target.id == modal.id) {\r\n  // \tmodal.classList.add(\"hide\")\r\n  // }\r\n  e.target.id == modal.id ? modal.classList.add(\"hide\") : false;\r\n});\r\n\r\n/**************************************************/\r\nconst theme = localStorage.getItem(\"theme\");\r\nif (theme) {\r\n  // body.classList.add(theme);\r\n  document.body.classList.toggle(theme);\r\n}\r\n// Select the button\r\nconst darkBtn = document.querySelector(\"#toggledark\");\r\n// Listen for a click on the button\r\ndarkBtn.addEventListener(\"click\", function() {\r\n  switchTheme(\"dark-theme\");\r\n});\r\nfunction switchTheme(themeName) {\r\n  document.body.classList.toggle(themeName);\r\n  if (!theme) {\r\n    localStorage.setItem(\"theme\", \"dark-theme\");\r\n  } else {\r\n    localStorage.removeItem(\"theme\");\r\n  }\r\n}\r\n/**************************************************/\r\nvar html = document.getElementsByTagName(\"html\")[0];\r\n\r\n// function fontSize(size = \"10%\") {\r\n//    html.style.fontSize = size\r\n// }\r\n\r\nfunction fontSize(size = \"10%\") {\r\n  html.style.fontSize = size;\r\n}\r\n"]}